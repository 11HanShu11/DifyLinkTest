{"docs_ClassDiagrams_md": "## ğŸ¤– AI Generated C# Class Diagrams\\n\\n### main/DifyTest_RollingDice.cs\\n*Failed to generate diagram*\\n\\n\n", "main_RollingDice_cs": "using System;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.UI;\nusing Cysharp.Threading.Tasks;\nusing DG.Tweening;\nusing UniRx;\n\nnamespace Sugoroku\n{\n    public class RollingDice : MonoBehaviour\n    {\n        private const float ROLL_TIME = 1f; //rã‚µã‚¤ã‚³ãƒ­ã®å›è»¢ã‚’è¦‹ã›ã‚‹æ™‚é–“\n        private const float RESULT_TIME = 1f; //rã‚µã‚¤ã‚³ãƒ­ã®çµæœã‚’è¦‹ã›ã‚‹æ™‚é–“\n\n\n        [SerializeField] private List<Sprite> _diceSprites; // 0ã€œ5: ã‚µã‚¤ã‚³ãƒ­ç›®1ã€œ6\n        [SerializeField] private Image _diceDisplay;\n        [SerializeField] private Button _diceBtn;\n        // [SerializeField] private Button _testBtn;\n\n\n        private readonly Subject<int> _diceResult = new Subject<int>();\n        public IObservable<int> DiceResult => _diceResult;\n\n        private readonly Subject<Unit> _startDiceRoll = new Subject<Unit>();\n        public IObservable<Unit> StartDiceRoll => _startDiceRoll;\n\n        private void Start()\n        {\n            _diceDisplay.enabled = false;\n            _diceBtn.onClick.AddListener(() => _ = StartDiceRollAsync());\n        }\n\n        /// <summary>\n        /// ã‚µã‚¤ã‚³ãƒ­ã®ãƒ­ãƒ¼ãƒ«å…¨ä½“å‡¦ç†\n        /// </summary>\n        private async UniTaskVoid StartDiceRollAsync()\n        {\n            _diceDisplay.enabled = true;\n            _startDiceRoll.OnNext(Unit.Default);\n\n            int result = await AnimateDiceRollingAsync(TimeSpan.FromSeconds(ROLL_TIME));\n            await ShowResultAsync(result, TimeSpan.FromSeconds(RESULT_TIME));\n\n            _diceDisplay.enabled = false;\n            _diceResult.OnNext(result);\n        }\n\n        /// <summary>\n        /// æŒ‡å®šæ™‚é–“ã€ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚µã‚¤ã‚³ãƒ­ã®ç›®ã‚’å¤‰åŒ–ã•ã›ã‚‹\n        /// </summary>\n        /// <param name=\"duration\">ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ™‚é–“</param>\n        /// <returnsã€€int = currentResult> ã‚µã‚¤ã‚³ãƒ­ã®ç›®ã®çµæœ</returns>\n        private async UniTask<int> AnimateDiceRollingAsync(TimeSpan duration)\n        {\n            float endTime = Time.time + (float)duration.TotalSeconds;\n            int currentResult = 1;\n\n            while (Time.time < endTime)\n            {\n                currentResult = UnityEngine.Random.Range(1, 7);\n                SetDiceFace(currentResult);\n                await UniTask.Delay(TimeSpan.FromSeconds(0.1));\n            }\n\n            return currentResult;\n        }\n\n        /// <summary>\n        /// æŒ‡å®šã•ã‚ŒãŸç›®ã‚’è¡¨ç¤ºã—ãŸã¾ã¾ä¸€å®šæ™‚é–“è¡¨ç¤ºã™ã‚‹\n        /// </summary>\n        /// <param name=\"diceNumber\">å‡ºç›®</param>\n        /// <param name=\"duration\">å…¬é–‹æ™‚é–“</param>\n        private async UniTask ShowResultAsync(int diceNumber, TimeSpan duration)\n        {\n            SetDiceFace(diceNumber);\n            await UniTask.Delay(duration);\n        }\n\n        /// <summary>\n        ///  ã‚µã‚¤ã‚³ãƒ­ã®ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’å¤‰æ›´ã™ã‚‹ï¼ˆ1ã€œ6ã‚’0ã€œ5ã«å¤‰æ›ï¼‰\n        /// </summary>\n        /// <param name=\"diceNumber\">å‡ºç›®</param>\n        private void SetDiceFace(int diceNumber)\n        {\n            int index = Mathf.Clamp(diceNumber - 1, 0, _diceSprites.Count - 1);\n            _diceDisplay.sprite = _diceSprites[index];\n        }\n    }\n}\n"}
